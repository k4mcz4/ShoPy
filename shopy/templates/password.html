{% extends "base.html" %}

{% block content %}
<div class="column is-4 is-offset-4">
    <h3 class="title">Change password</h3>
    <div class="box">
        <form method="POST" action="/password">
            <div class="field">
                <div class="control">
                    <input id="password1" class="input is-normal" type="password" name="password1"
                           placeholder="New password" autofocus="">
                </div>
            </div>
            <div class="field">
                <div class="control">
                    <input id="password2" class="input is-normal" type="password" name="password2"
                           placeholder="Confirm password" autofocus="" oninput="checkPasswords()">
                </div>
            </div>
            <p id="passwordMatchMessage"></p>
            <button class="button is-block is-info is-large is-fullwidth">Change</button>

        </form>
    </div>

</div>
<script>
    function checkPasswords() {
      var password1 = document.getElementById('password1').value;
      var password2 = document.getElementById('password2');
      var messageElement = document.getElementById('passwordMatchMessage');

      if (password1 === password2.value) {
        messageElement.innerText = 'Passwords match!';
        password2.classList.remove('is-danger');
        password2.classList.add('is-success');
      } else {
        messageElement.innerText = 'Passwords do not match.';
        password2.classList.remove('is-success');
        password2.classList.add('is-danger');
      }
    }
</script>
{% endblock %}